"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2285],{37869:function(t,n,a){a.d(n,{U:function(){return o},V:function(){return r}});var i=a(64518);let o=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?t||"Untitled":t?"".concat(t," | Gamma"):"Gamma"},r=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(null==t?void 0:t.trim())||(n?"":i.D)}},85326:function(t,n,a){a.d(n,{Lu:function(){return d},O1:function(){return s},lP:function(){return l}});var i=a(2784),o=a(91994),r=a(47968),e=a(36651);let s=()=>{let t=(0,o.CG)(r.yx),n=(0,e.py)("edit",t),a=(0,i.useRef)(n);return t&&(a.current=n),a.current},d=()=>{let t=(0,o.CG)(r.yx),n=(0,e.py)("manage",t),a=(0,i.useRef)(n);return t&&(a.current=n),a.current},l=()=>{let t=s(),n=(0,o.CG)(r.yx),a=(0,e.py)("edit",n);return(null==n?void 0:n.site)?t:a}},74389:function(t,n,a){a.d(n,{k:function(){return I},h:function(){return z}});var i=a(54073),o=a.n(i),r=a(2784),e=a(14274),s=a(41774),d=a(91994),l=a(95426),c=a(31181),m=a(35873),u=a(4878),f=a(87428),v=a(47968),p=a(90604),y=a(78160),b=a(50125);let g=t=>{if(t.classList.add(b.RN),t.classList.contains(b.VM)){let n=t.querySelectorAll(".".concat(b.l));n.forEach(t=>{t.classList.add(b.RN)})}};var x=a(4170);let h="number"==typeof e.v.EDITOR_ANIMATION_DEBUG_FACTOR?e.v.EDITOR_ANIMATION_DEBUG_FACTOR:1,w="editor-animations-enabled",k="cubic-bezier(0.22, 1, 0.36, 1)",j=1*h,C=.15*h,I=t=>{let{scrollingParentSelector:n,editor:a,instanceId:i,disabledOverride:e}=t,c=(0,u.Br)("edit"),y=(0,d.CG)(t=>{var n;let i=null!=a&&!!a.shouldUsePublishedVersion||((0,v.gh)(t)===p.q.SLIDE_VIEW?!1===(0,v.hN)(t):!1===c),o=(0,v.Bk)(t),r=(0,x.C)(null==o?void 0:o.settings)||!1==!!(null==o?void 0:o.docId),d=(0,v.P7)(t),l=!(0,s.Sj)(null==a?void 0:a.gammaDocId)(t),m=(null===(n=(0,v.yx)(t))||void 0===n?void 0:n.archived)!==!0;return i&&!0!==e&&r&&d&&l&&m}),[h,I]=(0,r.useState)(j),z=(0,f.K)(),O=(0,d.CG)(v.nz),_=(0,d.CG)(v.Oi),$=(0,d.CG)(t=>(0,v.gh)(t)===p.q.SLIDE_VIEW&&!(0,v.nz)(t)),S=(0,d.CG)(v.JA),E=(0,d.CG)(v.i2)||"",A=(0,r.useRef)(O),L=!O&&!_;return(0,r.useEffect)(()=>{$&&(console.debug("[useAnimateOnLoad] Setting animation duration to 0s"),I(0))},[$]),(0,r.useEffect)(()=>{null==a||a.commands.enableAnimations(y)},[a,y]),(0,r.useEffect)(()=>{if(!a||!S)return;let t=o()(t=>{let{transaction:n}=t;n.docChanged&&a.commands.addAnimationPositions([n.selection.to],!0)},500,{leading:!0,trailing:!0,maxWait:1e3});return a.on("update",t),()=>{a.off("update",t)}},[a,S]),(0,r.useEffect)(()=>{var t;let o=A.current;if(A.current=O,!z||!a||L||!y)return;let r=document.querySelectorAll([b.GD,b.iI,b.VM].map(t=>".".concat(t)).join(", ")),e=O?(0,m.U8)(E):n;console.debug("[useAnimateOnLoad] Setting up animations:",{isPresentMode:O,isDocMode:_,presentingCardId:E,rootSelectorEl:document.querySelector(e),rootSelector:e,elements:r,editorId:a.editorId,instanceId:i});let s=0;o!==O&&O&&(console.debug("[useAnimateOnLoad] Entering present mode - Resetting animations"),s=150,a.commands.resetAnimationPositions(!0)),!(null===(t=window.gammaTiming)||void 0===t?void 0:t.editorAnimationsInitialized)&&(null==a?void 0:a.shouldUsePublishedVersion)&&(0,l.a)("editorAnimationsInitialized");let d=()=>{if(window.gammaSiteAnimationsInitialized||!(null==a?void 0:a.shouldUsePublishedVersion))return;window.gammaSiteAnimationsInitialized=!0;let t="site-animations-bootstrap";document.body.classList.contains(t)?(document.body.classList.remove(t),console.log("%c[useAnimateOnLoad] REMOVING site-animations-bootstrap class $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")):console.log("%c[useAnimateOnLoad] site-animations-bootstrap class not found $$$$$$$$$$$$$$$$$$$$","background-color: deeppink; color: white; padding: 5px; font-size: 1.5em;")},c=new IntersectionObserver(t=>{let n=[];for(let i of t)if(i.isIntersecting){let t=Number(i.target.getAttribute("data-pos"));t&&g(i.target);let o=t||a.view.posAtDOM(i.target,0);if(o&&o>0){let r=(0,b.PY)(a,o);console.log("[useAnimateOnLoad] animate isIntersecting",{pos:o,dataPos:t,$closestAnimatablePos:r,dataAttrPos:i.target.getAttribute("data-pos")},i.target),t?n.push(t):r&&n.push(r.pos),c.unobserve(i.target)}}d(),requestAnimationFrame(()=>{I(j)}),setTimeout(()=>{a.commands.addAnimationPositions(n,O)},s)},{root:document.querySelector(e),rootMargin:"-100px"});return r.forEach(t=>{c.observe(t)}),()=>{r.forEach(t=>{c.unobserve(t)})}},[z,a,i,y,O,L,_,E,n]),{editorAnimationsClass:y?w:"",editorAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(h,"s"),"--animation-transition-delay":"".concat(0===h?0:C,"s"),"--animation-easing-function":k}}},z=t=>{let{disabledOverride:n}=t,a=(0,d.TL)(),i=(0,d.CG)(t=>{let a=(0,v.Bk)(t),i=(0,x.C)(null==a?void 0:a.settings)||!1==!!(null==a?void 0:a.docId);return!0!==n&&i});return(0,r.useEffect)(()=>{if(!i)return;let t=document.querySelectorAll([y.$K,y.GI].map(t=>".".concat(t)).join(", ")),n=new IntersectionObserver(t=>{for(let i of t)i.isIntersecting&&(console.debug("[useSiteNavAnimations] animate isIntersecting",i.target),g(i.target),(0,c.sd)(a)(!0),n.unobserve(i.target))},{root:document.body,rootMargin:"0px"});return t.forEach(t=>{n.observe(t)}),()=>{t.forEach(t=>{n.unobserve(t)}),(0,c.sd)(a)(!1)}},[i,a]),{navbarAnimationsClass:i?w:"",navbarAnimationsCSSVars:{"--animation-yOffset":"20px","--animation-transition-property":"opacity, transform","--animation-transition-duration":"".concat(j,"s"),"--animation-transition-delay":"".concat(C,"s"),"--animation-easing-function":k}}}},4170:function(t,n,a){a.d(n,{C:function(){return i}});let i=t=>(null==t?void 0:t.animationsEnabled)===!0},741:function(t,n,a){a.d(n,{n:function(){return tw}});var i=a(52322),o=a(38035),r=a(86900),e=a(42626),s=a(86509),d=a(9432),l=a(39615),c=a(39475),m=a(2784),u=a(50788),f=a(15151),v=a(5995),p=a(62040),y=a(96841),b=a(34745),g=a(77220),x=a(93486),h=a(17487),w=a(17630),k=a(72338),j=a(70286),C=a(11093),I=a(86353),z=a(28535),O=a(29117),_=a(11082),$=a(73200),S=a(91994),E=a(31181),A=a(89098),L=a(50125),P=a(90507),R=a(47968),D=a(56253),G=a(12832),N=a(78160),T=a(14274),B=a(26803),M=a(15041),U=a(4878),H=a(13265),F=a(78462);let W=()=>(0,U.GX)({base:!0,xl:!1})||!1,V=()=>{let t=(0,H.g)(),n=(0,S.CG)(n=>{let a=(0,R.yx)(n),i=null==a?void 0:a.site;if(!i||!t)return"";let o=(0,M.$V)(i);return o?T.v.FRONTEND_URL+(0,F.yQ)({docId:o.docId}):""}),a=(0,B.H)({url:n});return{homeUrl:a.linkUrl,handleLogoClick:a.handleClick}},q=t=>{var n,a;let i={width:void 0,height:void 0,aspectRatio:void 0};if(!t)return i;let o=null==t?void 0:null===(n=t.meta)||void 0===n?void 0:n.width,r=null==t?void 0:null===(a=t.meta)||void 0===a?void 0:a.height,e=o&&r&&o/r||1;return e>1?i.width="100%":i.width="auto",i.height="100%",i.aspectRatio=e,i},Y=t=>{let{node:n}=t,a=n.attrs.logo,r=(0,S.CG)(R.Pu),e=(0,A.c)(r),{borderRadius:s,...d}=e.cardSx,{defaultContentWidth:l}=(0,S.CG)(R.US),{cardWidthEms:c,baseFontSize:u}=(0,D.Rs)(r,!1,"lg"===l),f=(0,S.CG)(R.Pw),v=(0,S.CG)(E.NQ),p=W(),y=a&&a.src,b=(0,m.useMemo)(()=>q(a),[a]),g="".concat(N.ZQ-2*N.s6,"px"),{homeUrl:x,handleLogoClick:h}=V();return(0,i.jsx)(P.T5,{children:(0,i.jsxs)(o.k,{direction:"column",align:"center",justify:"center",pos:"relative",w:"100%",p:"".concat(N.s6,"px"),zIndex:"1",h:N.ik,children:[(0,i.jsx)(z.xu,{pos:"absolute","data-id":"navbar-view-backdrop",className:(0,$.cx)(N.$K,v&&L.RN),inset:"0",sx:d}),(0,i.jsxs)(O.U,{className:(0,$.cx)(N.GI,v&&L.RN),spacing:4,maxW:"".concat(c,"em"),w:"100%",fontSize:"".concat(u,"em"),align:"center",sx:{".header-dropdown":d,"[data-node-view-content-inner=navbar]":{display:"flex",flexDirection:p?"row-reverse":"row",alignItems:"center"},".node-navbarLinks":{flexGrow:p?0:1},".node-buttonGroup":{flexGrow:p?1:0,"--button-group-direction":"row-reverse",'[data-node-view-content-inner="button"]':{whiteSpace:"nowrap !important"}}},children:[y||f?(0,i.jsx)(z.xu,{as:_.r,href:x,onClick:h,h:g,w:(null==b?void 0:b.aspectRatio)?"calc(".concat(g," * ").concat(b.aspectRatio,")"):g,children:(0,i.jsx)(G.Z,{image:a,imageSx:{backgroundSize:"contain",borderRadius:"none",cursor:"pointer",...b},...t})}):null,(0,i.jsx)(P.ms,{style:{flex:1}})]})]})})},K=k.NB.create({name:"navbar",content:"navbarLinks navbarButtons",imageKeyPath:"logo",accessoryImageKey:"logo",addAttributes:()=>({logo:{default:null,...(0,C.sw)("logo")}}),parseHTML:()=>[{tag:'nav[class="navbar"]'}],renderHTML(t){let{HTMLAttributes:n}=t;return["nav",(0,k.P1)(n,{class:"navbar"}),0]},addNodeView:()=>(0,j.f)(Y,{update:I.E7})});var Q=a(13653),Z=a(59799),J=a(36909),X=a(94465),tt=a(42703),tn=a(14027),ta=a(4030),ti=a(50499);let to=t=>(0,i.jsx)(ta.lO,{...t,children:(0,i.jsxs)(o.k,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:"row-reverse",sx:(0,ti.mJ)(!1),gap:"0.5em",children:[(0,i.jsx)(P.ms,{}),(0,i.jsx)(ti.X0,{...t,direction:"row-reverse",maxButtons:2})]})}),tr=k.NB.create({name:"navbarButtons",content:"button{0, ".concat(2,"}"),addNodeView:()=>(0,P.fW)(to,{update:I.I_}),parseHTML:()=>[{tag:"div[class=navbar-buttons]"},{tag:"buttons"}],renderHTML(t){let{HTMLAttributes:n}=t;return["div",(0,k.P1)(n,{class:"navbar-buttons"}),0]}});var te=a(55478),ts=a(36474),td=a(32899),tl=a(5879),tc=a(39540);let tm=t=>{let{node:n,decorations:a}=t,{horizontalAlign:r}=n.attrs,e=W(),s=(0,tc.v)(a),{isOpen:d,onToggle:l}=(0,te.q)(),c=e?"column":"row",m=(0,S.CG)(R.hN),u=(0,i.jsx)(ti.X0,{...t,direction:c,tooltip:(0,i.jsx)(tl.cC,{id:"JecGQl"}),maxButtons:5}),f=m||e?void 0:{_after:tp};return(0,i.jsx)(ta.lO,{...t,children:(0,i.jsxs)(o.k,{w:"100%","data-selection-ring":"padded",borderRadius:"var(--box-border-radius)",direction:c,justify:(0,w.yg)(r)||"var(--flex-align)",px:4,sx:{...(0,ti.mJ)(e),".button[data-variant=link]":{outlineStyle:s?"solid":"none",outlineWidth:"1px",outlineColor:"var(--grid-outline-color)",color:"var(--body-color)",fontWeight:"var(--body-font-weight)",_hover:f,"&[data-is-current-page=true]":{color:"var(--link-color)",_after:e?{}:tp}}},fontFamily:"var(--body-font)",gap:"0.5em",children:[e?(0,i.jsxs)(o.k,{children:[(0,i.jsx)(ts.L,{}),(0,i.jsx)(tu,{"aria-label":"Toggle header",onClick:l,isOpen:d,mr:4})]}):(0,i.jsx)(P.ms,{}),e&&(0,i.jsxs)(z.xu,{pos:"absolute",w:"100%",left:"0",top:N.ZQ,backgroundColor:"var(--card-color)",transform:"translateY(".concat(d?"0":"-100%",")"),opacity:d?1:0,pointerEvents:d?"auto":"none",transitionProperty:"transform, opacity",transitionDuration:"normal",className:"header-dropdown",p:4,children:[(0,i.jsx)(P.ms,{}),u]}),!e&&u]})})},tu=t=>{let{isOpen:n,...a}=t;return(0,i.jsx)(td.h,{variant:"unstyled",size:"xs",icon:(0,i.jsx)(tf,{active:n}),contentEditable:!1,...a})},tf=t=>{let{active:n}=t;return(0,i.jsxs)(z.xu,{boxSize:"1.5rem",pos:"relative",pointerEvents:"none",children:[(0,i.jsx)(tv,{top:n?"50%":"calc(50% + .375rem)",transform:n?"rotate(45deg)":void 0}),(0,i.jsx)(tv,{top:"50%",opacity:n?0:1}),(0,i.jsx)(tv,{top:n?"50%":"calc(50% - .375rem)",transform:n?"rotate(-45deg)":void 0})]})},tv=t=>(0,i.jsx)(z.xu,{pos:"absolute",w:"1.25rem",h:"0.125rem",borderRadius:"full",bg:"currentcolor",insetStart:"0.125rem",transitionProperty:"all",transitionDuration:"normal",...t}),tp={content:'""',pos:"absolute",w:"100%",left:0,bottom:"0.125em",height:"0.25em",borderRadius:"inherit",zIndex:"0",backgroundColor:"var(--link-color)",backgroundImage:"var(--accent-gradient)"},ty=k.NB.create({name:"navbarLinks",content:"button*",addNodeView:()=>(0,P.fW)(tm,{update:I.I_}),parseHTML:()=>[{tag:"div[class=navbar-links]"}],renderHTML(t){let{HTMLAttributes:n}=t;return["div",(0,k.P1)(n,{class:"navbar-links"}),0]}});var tb=a(74389),tg=a(13180),tx=a(54653);let th=()=>[e.B.extend({content:"navbar"}),K,ty,tr,x.z,l.x,h.Hy,r.d8,c.v,d.Tx,s.A,Z.U,g.NM,w.Kq,J._,Q.Jn,tg._,h.Pi,tx.R],tw=(0,m.memo)(t=>{let{theme:n=tn.g,scrollingParentSelector:a,...r}=t,e=(0,u.C7)(),s=(0,m.useMemo)(()=>th(),[]),d=(0,X.j)({...r,extensions:s,editable:!e});(0,p.n)(d);let l=(0,v.l)(n),c=(0,f.J)(n,!0),{navbarAnimationsClass:g,navbarAnimationsCSSVars:x}=(0,tb.h)({disabledOverride:!1===e});if(!d)return null;d.isSiteNavbarEditor=!0;let h=e?(0,i.jsx)(tt.f,{editor:d}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(P.kg,{editor:d,style:{wordBreak:"break-word",flex:1,display:"flex",flexDirection:"column"}}),(0,i.jsx)(b.u,{editor:d,menuContext:"navigation",scrollingParentSelector:a}),(0,i.jsx)(y.Y,{editor:d})]});return(0,i.jsx)(o.k,{flex:"1",direction:"column","data-navbar-editor":!0,className:g,style:x,sx:{...l,...c,...n.config.contentStyles},children:h})});tw.displayName="NavbarEditor"},78160:function(t,n,a){a.d(n,{$K:function(){return s},GI:function(){return d},JB:function(){return l},ZQ:function(){return o},ik:function(){return r},s6:function(){return e}});var i=a(87254);let o=75,r="".concat(o,"px"),e=10,s="navbar-view-backdrop",d="navbar-view-content",l=()=>({type:"doc",content:[{type:"navbar",attrs:{image:{source:"image.custom"}},content:[{type:"navbarLinks",attrs:{horizontalAlign:"center"},content:[{type:"button",attrs:{variant:"link",href:"/"},content:[{type:"text",text:i.ag._({id:"i0qMbr"})}]},{type:"button",attrs:{variant:"link"},content:[{type:"text",text:i.ag._({id:"26eYlE"})}]},{type:"button",attrs:{variant:"link"},content:[{type:"text",text:i.ag._({id:"PLFHuI"})}]}]},{type:"navbarButtons",content:[{type:"button",attrs:{variant:"solid"},content:[{type:"text",text:i.ag._({id:"hxBFty"})}]}]}]}]})},52926:function(t,n,a){a.d(n,{_i:function(){return S._},eT:function(){return J}});var i=a(52322),o=a(70065),r=a(56920),e=a(5879),s=a(5632),d=a(2784),l=a(93202),c=a(18724),m=a(18469),u=a(91994),f=a(36651),v=a(19585),p=a(34919);let y=t=>{let n=(0,u.TL)(),{currentWorkspace:a}=(0,f.SE)();(0,d.useEffect)(()=>{if(t)return v.VH.updateWorkspaceInLdContext(t).then(()=>{n((0,p.vH)({isDocWorkspaceSet:!0}))}),()=>{v.VH.updateWorkspaceInLdContext(a).then(()=>{n((0,p.vH)({isDocWorkspaceSet:!1}))})}},[a,n,t])};var b=a(34881),g=a(73235),x=a(57981);function h(){let t=(0,g._)(["\n  fragment DefaultCardFields on Card {\n    id\n    archived\n    docId\n    title\n    text\n    previewUrl\n    createdTime\n    updatedTime\n  }\n"]);return h=function(){return t},t}function w(){let t=(0,g._)(["\n  mutation CreateCard($id: ID!, $docId: ID!) {\n    createCard(id: $id, docId: $docId) {\n      id\n    }\n  }\n"]);return w=function(){return t},t}function k(){let t=(0,g._)(["\n  ","\n  query GetCard($id: ID!, $docId: ID!) {\n    card(id: $id, docId: $docId) {\n      ...DefaultCardFields\n    }\n  }\n"]);return k=function(){return t},t}function j(){let t=(0,g._)(["\n  ","\n  query GetCards($docId: ID!) {\n    docCards(docId: $docId, archived: false) {\n      ...DefaultCardFields\n    }\n  }\n"]);return j=function(){return t},t}function C(){let t=(0,g._)(["\n  ","\n  subscription SubscribeToCards($docId: ID!) {\n    docCards(docId: $docId) {\n      ...DefaultCardFields\n    }\n  }\n"]);return C=function(){return t},t}let I=(0,x.Ps)(h());(0,x.Ps)(w()),(0,x.Ps)(k(),I),(0,x.Ps)(j(),I);let z=(0,x.Ps)(C(),I);var O=a(78462),_=a(56943),$=a(97590),S=a(12825),E=a(55478),A=a(41774),L=a(92850),P=a(26468),R=a(22226),D=a(54326),G=a(2338),N=a(97217),T=a(43297),B=a(77533),M=a(50250),U=a(75768),H=a(62614),F=a(80498);let W=t=>{var n;let a=(null===(n=(0,u.CG)((0,A.oH)(t||"")))||void 0===n?void 0:n.status)==="running",i=(0,d.useRef)(a);i.current=a;let[o,r]=(0,d.useState)(()=>new F.B),e=(0,d.useCallback)(()=>{o.resolve()},[o]),{isOpen:s,onOpen:l,onClose:c}=(0,E.q)(),m=(0,d.useCallback)(()=>{if(!i.current)return Promise.resolve();let t=new F.B;return r(t),l(),t.promise},[l]);return{confirmNavigationFn:m,confirmNavigationModalProps:{isOpen:s,onClose:c,onConfirm:e}}},V=t=>{let{isOpen:n,onClose:a,onConfirm:o}=t;return(0,i.jsxs)(L.u_,{onClose:a,isOpen:n,isCentered:!0,children:[(0,i.jsx)(P.Z,{}),(0,i.jsxs)(R.h,{children:[(0,i.jsx)(D.x,{children:(0,i.jsx)(e.cC,{id:"YeK6T+"})}),(0,i.jsx)(G.o,{}),(0,i.jsx)(N.f,{children:(0,i.jsxs)(T.K,{spacing:4,children:[(0,i.jsx)(B.x,{fontWeight:"bold",children:(0,i.jsx)(e.cC,{id:"Wr6Y7m"})}),(0,i.jsx)(B.x,{children:(0,i.jsx)(e.cC,{id:"n0Fn6S"})})]})}),(0,i.jsx)(M.m,{children:(0,i.jsxs)(U.h,{children:[(0,i.jsx)(H.z,{variant:"ghost",onClick:a,children:(0,i.jsx)(e.cC,{id:"dEgA5A"})}),(0,i.jsx)(H.z,{variant:"ghost",color:"red.600",onClick:o,children:(0,i.jsx)(e.cC,{id:"QxM8i/"})})]})})]})]})};var q=a(76332),Y=a(85326),K=a(31181);let Q=t=>{var n;let{doc:a}=t,i=null==a?void 0:a.id,o=null==a?void 0:null===(n=a.site)||void 0===n?void 0:n.id,r=(0,u.TL)(),e=(0,Y.O1)(),s=!!(!i||!o||!e),{data:l}=(0,q.ZUZ)({variables:{id:o},returnPartialData:!0,nextFetchPolicy:"cache-and-network",skip:s}),c=null==l?void 0:l.site;(0,d.useEffect)(()=>{c&&i&&e&&(0,K.zs)(r)({site:c,docId:i})},[i,r,c,e])},Z=t=>{let{children:n}=t,a=(0,o.p)(),v=(0,f.we)(),p=(0,u.CG)($.XV),{user:g,userStatus:x}=(0,f.SE)(),h=(0,d.useRef)(null),w=(0,u.TL)(),{push:k,replace:j}=(0,s.useRouter)(),C=(0,u.CG)($.yx),[I,E,A]=(0,O.NO)(),L=E&&E.match(O.sg),P=L?L[0]:null,{confirmNavigationFn:R,confirmNavigationModalProps:D}=W(P),[G,N]=(0,d.useState)({isUnauthorized:void 0,setCollaborativeEditorInstance:t=>{h.current=t,N(n=>({...n,editor:t}))},getCollaborativeEditorInstance:()=>h.current,confirmNavigation:R,editor:void 0});(0,c.ts)(C),y(null==C?void 0:C.organization);let[T,{data:B,loading:M,called:U,subscribeToMore:H}]=(0,l.WMx)({variables:{id:P},returnPartialData:!0,nextFetchPolicy:"cache-only"}),F=(0,f.py)("view",null==B?void 0:B.doc),q=(0,f.Is)("edit",null==B?void 0:B.doc);Q({doc:null==B?void 0:B.doc}),(0,f.$K)(T),(0,d.useEffect)(()=>{if(H&&G.docId&&U)return H({document:_.dU,variables:{id:G.docId},updateQuery:(t,n)=>{let{subscriptionData:a}=n;return a.data&&a.data.doc&&t.doc?{doc:{...t.doc,...a.data.doc,__typename:"Doc"}}:t}})},[G.docId,H,U]);let[Y,{data:K,called:Z,subscribeToMore:J}]=(0,l.WBF)({variables:{docId:P},returnPartialData:!0,nextFetchPolicy:"cache-only"});return((0,m.p)(null==K?void 0:K.docCards,G.editor),(0,d.useEffect)(()=>{if(J&&G.docId&&Z)return J({document:z,variables:{docId:G.docId},updateQuery:(t,n)=>{let{subscriptionData:a}=n;return a.data&&a.data.docCards?a.data:t}})},[G.docId,J,Z]),(0,d.useEffect)(()=>{if(G.docId!==P&&E){if(!P){a({id:"invalid_doc_id_error",title:(0,i.jsx)(e.cC,{id:"742lf1"}),description:"",status:"error",position:"top",isClosable:!1,duration:null});return}T(),Y(),N(t=>({...t,docId:P}))}},[G.docId,E,P,T,Y,w,a]),(0,d.useEffect)(()=>{if("loading"!==x&&U&&!M&&E){if(!B||!B.doc||!1===F){"loggedOut"===x&&k("/signin?redirect_to=".concat(encodeURIComponent(window.location.href))),N(t=>({...t,isUnauthorized:!0}));return}if(B&&null===B.doc.currentSnapshotId&&q){N(t=>({...t,isUnauthorized:!0}));return}if(!p&&B.doc.archived){j("/");return}N(t=>!1===t.isUnauthorized?t:{...t,isUnauthorized:!1}),w((0,$.pl)({doc:B.doc}))}},[v,F,q,B,M,E,U,p,x,k,w,j,g]),(0,d.useEffect)(()=>()=>{w((0,$.mc)())},[w]),(0,d.useEffect)(()=>{if(!C||!P)return;let t="".concat(C.title?"".concat((0,r.lV)(C.title),"-"):"").concat(P);E!==t&&(0,b.lO)({pathname:"".concat(I,"/").concat(t).concat(A||""),emitChange:!1})},[C,P,E,I,A]),G.docId)?(0,i.jsxs)(S.r.Provider,{value:G,children:[n,(0,i.jsx)(V,{...D})]}):(0,i.jsx)(i.Fragment,{})};function J(t){return(0,d.memo)(n=>(0,i.jsx)(Z,{children:(0,i.jsx)(t,{...n})}))}},77627:function(t,n,a){a.d(n,{m:function(){return c}});var i=a(52322),o=a(38035);a(2784);let r=new String(".site-animations-bootstrap .editor-animations-enabled .ProseMirror{.navbar-view-content{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}.navbar-view-backdrop{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}.animatable-on-load,.animatable-on-load-accent,.animatable-on-load-content-child{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}}.animatable-on-load-as-block{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}}.is-present-mode .animatable-on-load,.is-full-width .animatable-on-load{&.animatable-on-load-accent{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}.animatable-on-load-content-child.block-image{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}.animatable-on-load-content-child.node-smartLayoutCell{[data-spotlight-parent]>*{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0);-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}}}@media not print{.editor-animations-enabled .ProseMirror{.navbar-view-content{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-ms-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px);-webkit-transition-property:opacity,-webkit-transform;-moz-transition-timing-function:opacity,-moz-transform;-o-transition-timing-function:opacity,-o-transform;transition-property:opacity,-webkit-transform;transition-property:opacity,-moz-transform;transition-property:opacity,-o-transform;transition-property:opacity,transform;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.navbar-view-backdrop{-webkit-box-shadow:0 0 0 0 rgba(0,0,0,0);-moz-box-shadow:0 0 0 0 rgba(0,0,0,0);box-shadow:0 0 0 0 rgba(0,0,0,0);-webkit-transition-property:box-shadow;-moz-transition-timing-function:box-shadow;-o-transition-timing-function:box-shadow;transition-property:box-shadow;-webkit-transition-duration:1s;-moz-transition-duration:1s;-o-transition-duration:1s;transition-duration:1s;-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);&.animate-has-animated{-webkit-box-shadow:var(--md-shadow),var(--card-border-shadow);-moz-box-shadow:var(--md-shadow),var(--card-border-shadow);box-shadow:var(--md-shadow),var(--card-border-shadow)}}.animatable-on-load,.animatable-on-load-accent,.animatable-on-load-content-child{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&.animatable-on-load-atom,&:not(.animatable-on-load-annotatable),&.animatable-on-load-annotatable [data-node-view-content]{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}}.animatable-on-load-as-block{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:0;-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function)}&.animate-has-animated{&:not(.block-calloutBox),&.block-calloutBox .calloutBox{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}}.is-present-mode .animatable-on-load,.is-full-width .animatable-on-load{&.animatable-on-load-accent{opacity:0;-webkit-transform:scale(.9);-moz-transform:scale(.9);-ms-transform:scale(.9);-o-transform:scale(.9);transform:scale(.9);&.animate-has-animated{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}}.animatable-on-load-content-child.block-image{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));&.animate-has-animated{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.node-gallery .animatable-on-load-content-child.block-image{-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}.animatable-on-load-content-child.node-smartLayoutCell{[data-spotlight-parent]>*{opacity:0;-webkit-transition-property:var(--animation-transition-property);-moz-transition-timing-function:var(--animation-transition-property);-o-transition-timing-function:var(--animation-transition-property);transition-property:var(--animation-transition-property);-webkit-transition-duration:var(--animation-transition-duration);-moz-transition-duration:var(--animation-transition-duration);-o-transition-duration:var(--animation-transition-duration);transition-duration:var(--animation-transition-duration);-webkit-transition-timing-function:var(--animation-easing-function);-moz-transition-timing-function:var(--animation-easing-function);-o-transition-timing-function:var(--animation-easing-function);transition-timing-function:var(--animation-easing-function);-webkit-transform:translatey(var(--animation-yOffset));-moz-transform:translatey(var(--animation-yOffset));-ms-transform:translatey(var(--animation-yOffset));-o-transform:translatey(var(--animation-yOffset));transform:translatey(var(--animation-yOffset));-webkit-transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));-moz-transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));-o-transition-delay:calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-webkit-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:-moz-calc(var(--animation-transition-delay)*var(--animate-index));transition-delay:calc(var(--animation-transition-delay)*var(--animate-index))}&.animate-has-animated [data-spotlight-parent]>*{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-ms-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}}}");r.__hash="e81b6cad3739627c";let e=r.toString(),s=()=>(0,i.jsx)("style",{id:"editor-animations-styles",dangerouslySetInnerHTML:{__html:e}});var d=a(46409),l=a(90221);let c=t=>{let{children:n}=t;return(0,i.jsxs)(o.k,{alignSelf:"stretch",position:"relative",height:(0,l.s2)()?"100%":"var(--100vh)",direction:"column",children:[(0,i.jsx)(d.Y,{}),(0,i.jsx)(s,{}),n]})}},58247:function(t,n,a){a.d(n,{m:function(){return V}});var i=a(52322),o=a(38035),r=a(75768),e=a(62614),s=a(11082),d=a(75009),l=a(94523),c=a(5879),m=a(2784),u=a(94199),f=a(57124),v=a(11050),p=a(29318),y=a(52926),b=a(90221),g=a(55478),x=a(32899),h=a(70065),w=a(50019),k=a(92850),j=a(26468),C=a(22226),I=a(54326),z=a(2338),O=a(97217),_=a(43297),$=a(77533),S=a(7344),E=a(59905),A=a(87651),L=a(29494),P=a(50250),R=a(54933),D=a(49929),G=a(87254),N=a(76332),T=a(89458),B=a(88640);let M={[N.pyi.Spam]:{title:(0,i.jsx)(c.cC,{id:"Y5QK1F"})},[N.pyi.Inappropriate]:{title:(0,i.jsx)(c.cC,{id:"Zeb01n"})},[N.pyi.Other]:{title:(0,i.jsx)(c.cC,{id:"/IX/7x"})}},U=[N.pyi.Spam,N.pyi.Inappropriate,N.pyi.Other],H=t=>{let{docId:n}=t,[a]=(0,T.I)(B.H.abuseReports,[]),[o,r]=(0,m.useState)(a.includes(n)),{isOpen:e,onOpen:s,onClose:d}=(0,g.q)({id:"report-page-modal"}),u=(0,m.useCallback)(()=>{r(!0),d()},[d]),f=!o;return(0,i.jsxs)(i.Fragment,{children:[f&&e&&(0,i.jsx)(F,{isOpen:!0,onClose:d,onSubmit:u}),f&&(0,i.jsx)(l.kH,{label:(0,i.jsx)(c.cC,{id:"ch68HI"}),children:(0,i.jsx)(x.h,{"aria-label":"Report this page",borderLeftWidth:"0px",color:"gray.600",variant:"plain",size:"sm",borderLeftRadius:0,icon:(0,i.jsx)(D.G,{icon:R.L1r,size:"sm"}),onClick:s})})]})},F=t=>{let{isOpen:n,onClose:a,onSubmit:o}=t,[s,d]=(0,T.I)(B.H.abuseReports,[]),[u,f]=(0,m.useState)(),[v]=(0,N.mvg)(),[p,b]=(0,m.useState)(),g=(0,h.p)(),{docId:x}=(0,y._i)(),R=(0,m.useCallback)(()=>{u&&v({variables:{input:{docId:x,reason:u,description:p}}}).then(()=>{d([...s,x]),g({title:(0,i.jsx)(c.cC,{id:"7sBcV9"}),description:(0,i.jsx)(c.cC,{id:"m02YqD"}),status:"success",duration:5e3,isClosable:!0,position:"top"}),o()})},[u,v,x,p,d,s,g,o]),D=(0,w.ff)("gray.800","gray.200");return(0,i.jsxs)(k.u_,{isOpen:n,onClose:a,trapFocus:!1,children:[(0,i.jsx)(j.Z,{}),(0,i.jsxs)(C.h,{color:D,children:[(0,i.jsx)(I.x,{children:(0,i.jsx)(c.cC,{id:"ch68HI"})}),(0,i.jsx)(z.o,{}),(0,i.jsx)(O.f,{children:(0,i.jsxs)(_.K,{spacing:0,children:[(0,i.jsx)($.x,{mb:6,children:(0,i.jsx)(c.cC,{id:"oNyQYO"})}),(0,i.jsx)(S.E,{onChange:t=>{f(t)},value:u,children:(0,i.jsx)(_.K,{children:U.map(t=>{let n=M[t];return(0,i.jsx)(E.Y,{value:t,children:null==n?void 0:n.title},t)})})}),(0,i.jsx)(A.U,{in:u===N.pyi.Other,children:(0,i.jsx)(L.g,{onChange:t=>{b(t.target.value)},maxLength:200,placeholder:G.ag._({id:"1ULmtx"}),mt:4})})]})}),(0,i.jsx)(P.m,{children:(0,i.jsxs)(r.h,{children:[(0,i.jsx)(e.z,{colorScheme:"gray",onClick:a,variant:"ghost",children:(0,i.jsx)(c.cC,{id:"dEgA5A"})}),(0,i.jsx)(l.kH,{label:(0,i.jsx)(c.cC,{id:"h7+4yF"}),isDisabled:!!u,shouldWrapChildren:!0,children:(0,i.jsx)(e.z,{onClick:R,variant:"plain",colorScheme:"red.400",color:"red",_hover:{color:"red.600"},isDisabled:!u,children:(0,i.jsx)(c.cC,{id:"ovTgfk"})})})]})})]})]})},W=()=>(0,b.s2)()?{display:"flex",justifyContent:"center",m:6,position:"relative"}:{position:"fixed",right:[1,6],bottom:[1,4]},V=t=>{let{docWorkspace:n,forceShow:a=!1,abuseReportingEnabled:b=!0,...g}=t,{docId:x}=(0,y._i)(),h=(0,p.Yy)(),w=(0,v.z$)(),k=(0,m.useCallback)(()=>{null==w||w.track(v.AA.MADE_WITH_GAMMA_CLICKED,{doc_id:x})},[w,x]),j=(0,f.dU)(n);return!1===a&&!1!==j?null:(0,i.jsx)(o.k,{...W(),...g,children:(0,i.jsx)(l.Wk,{isDark:h,children:(0,i.jsxs)(r.h,{isAttached:!0,sx:{".chakra-button":{borderRightRadius:"none","&:last-child":{borderRightRadius:"md"}}},children:[(0,i.jsx)(e.z,{as:s.r,onClick:k,variant:"plain",target:"_blank",href:"https://gamma.app/?utm_source=made-with-gamma&utm_medium=content",textDecoration:"none !important",leftIcon:(0,i.jsx)(d.E,{src:"/_next/static/media/GammaLogoGradient.43edb67f.svg",h:"1em"}),size:"sm",children:(0,i.jsx)(c.cC,{id:"vo61Ld",values:{GAMMA_PROPER_NOUN:u.N6}})}),b&&(0,i.jsx)(H,{docId:x})]})})})}},85679:function(t,n,a){a.d(n,{j:function(){return v}});var i=a(5632),o=a(2784),r=a(34881),e=a(91994),s=a(35873),d=a(83440),l=a(47968),c=a(90604),m=a(7628),u=a(52926),f=a(78462);let v=()=>{let{editor:t}=(0,u._i)(),n=(0,i.useRouter)(),a=(0,e.qr)();(0,o.useEffect)(function(){if(!t)return;n.beforePopState(t=>{let{as:n}=t;return!n.startsWith("/docs/")});let i=r.fI.on("changed",n=>{var i;let{cardId:o}=(0,f.sY)(n.url),r=a.getState(),e=(0,l.gh)(r);if(console.debug("[useHandleCardHash][handleURLChange]",{payload:n,cardId:o}),e===c.q.DOC_VIEW&&(null===(i=n.state)||void 0===i?void 0:i.fromPos)&&"pop"===n.method){let{fromPos:a,fromPct:i}=n.state;t.chain().scrollToPositionInCard(a,i||void 0).command(t=>{let{tr:n}=t;return(0,d.B0)(a)(n),!0}).run()}else{let n=(0,l.xb)(r)[0];(0,s.YS)({cardId:o||n,editor:t})}});return()=>{n.beforePopState(()=>!0),i()}},[t,n,a]),(0,o.useEffect)(function(){if(!t)return;let{cardId:n}=(0,f.sY)(window.location.href);n&&(0,m.D)({cardId:n,method:"replace"})},[t])}}}]);
//# sourceMappingURL=2285-4986de53b314a415.js.map